<!DOCTYPE html>

<html>
	<head>
		<title>IllumiTile Light Engine Configurator</title>

		<meta charset="utf-8">
		<meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="icon" type="image/x-icon" href="assets/icon/favicon.ico">
		<link rel="manifest" href="manifest.json">
		<meta name="theme-color" content="#ec7c24">

		<!-- add to homescreen for ios -->
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">

		<link rel="stylesheet" type="text/css" href="./assets/css/index.css" />
		<link rel="stylesheet" type="text/css" href="./assets/css/tooltip.css" />
		<link rel="stylesheet" type="text/css" href="./assets/css/ionicons.css" />
		<link rel="stylesheet" type="text/css" href="./assets/js/jquery-ui-1.12.1.custom/jquery-ui.css" />
		<link rel="stylesheet" type="text/css" href="./assets/css/dragula.min.css" />

		<script src="./assets/js/jquery-3.2.1.js"></script>
		<script src="./assets/js/jquery-ui-1.12.1.custom/jquery-ui.js"></script>
		<script src="./assets/js/lzstring.js"></script>
		<script src="./assets/js/js.cookie.js"></script>
		<script src="./assets/js/temperature.js"></script>
		<script src="./assets/js/index.js"></script>
	</head>

	<body>
		<script src="./assets/js/dragula.min.js"></script>
		
		<header>

			<div class="toolbar">
				<button>Guide Me!</button>
				<button>Help</button>
				<button>Feedback</button>
			</div>


			<img class="logo" src="./assets/img/logo.png" />

			<select id="projectMenu">
				<option value="">Project</option>
				<option value="newProject">New</option>
				<option value="openProject">Open</option>
				<option value="saveProject">Save</option>
				<option value="export">Export</option>
				<option value="closeProject">Close</option>
				<option value="print">Print</option>
			</select>

			<div class="title">
				IllumiTile Light Engine Configurator
				
				<span class="sub-title" rel="project-title"></span>
			</div>
			
			<div class="circuit-panel"></div>
		</header>

		<div class="dialog saveProject">
			<label>
				Title
				<input name="projectTitle" />
			</label>
			
			<label>
				Description
				<textarea name="projectDescription" rows="5" cols="40"></textarea>
			</label>
			
			<button action="save">Save</button>
			<button action="close">Cancel</button>
		</div>
		
		<div class="dialog openProject">
			<div class="project-list"></div>
			
			<button action="close">Cancel</button>
		</div>

		<div class="main-toolbar">
			<div class="button-place button-active"><button onclick="setWorkMode(10, event)" id="select" class="icon ion-arrow-left-c button-rotate"></button></div>
			<div class="button-place"><button onclick="setWorkMode(20, event)" id="move" class="icon ion-arrow-expand button-rotate" style="font-size:1.6em;"></button></div>
			<div class="button-place"><button onclick="scaleCanvas('+', event)" class="icon ion-search icon-search icon-search-plus"></button></div>
			<div class="button-place"><button onclick="scaleCanvas('-', event)" class="icon ion-search icon-search icon-search-minus"></button></div>
			<div class="button-place"><button id="undo" class="icon ion-reply"></button></div>
		</div>

		<section class="canvas">

			<div class="work-table" design-mode="auto"></div>
		</section>
		
		<div class="dialog wizard" rel="temperature">
			<div class="title">Select a Color Temperature</div>
			
			<label><input type="radio" name="temperature" value="cool" />Cool (6000K CCT)</label>
			<label><input type="radio" name="temperature" value="neutral" />Neutral (4500K CCT)</label>
			<label><input type="radio" name="temperature" value="warm" />Warm (3000K CCT)</label>
			
			<p>
				Selecting a color temperature will affect the color of light emitted from each circuit of IllumiTiles. The color 
				temperature may also affect the power requirements of each circuit configured.
			</p>
			
			<div class="buttons">
				<button onclick="navigateWizard('work-mode')">Next</button>
				<button rel="skip" onclick="exitWizard()">Skip</button>
			</div>
		</div>

		<div class="dialog wizard" rel="work-mode">
			<div class="title">Select a Project Configuration Mode</div>

			<div><label><input type="radio" onclick="setWizardWorkMode('auto-area');" name="configuration" value="auto-area" />Auto-Configuration for a Specified Illumination Area</label></div>
			<div><label><input type="radio" onclick="setWizardWorkMode('auto-size');" name="configuration" value="auto-size" />Auto-Configuration for an Illumination Area that Adjusts to Your Layout</label></div>
			<div><label><input type="radio" onclick="setWizardWorkMode('manual');" name="configuration" value="manual" />Manual</label></div>
			
			<p>
				Select the mode in which you would like to work:
			</p>
			
			<p rel="auto-area">
				Defining a specified illumination area will auto-arrange a series of IllumiTiles into a two-dimensional grid that will fit 
				into the area specified. The grid will be automatically configured into circuits with an adequate number of harnesses
				and power supplies to operate the configuration.
			</p>

			<p rel="auto-size">
				Defining an Illumitile arrangement will auto-arrange a series of IllumiTiles into a two-dimensional grid that fits into the
				arrangement requested. The grid will be automatically configured into circuits with an adequate number of harnesses
				and power supplies to operate the configuration.
			</p>

			<p rel="manual">
				Using manual mode will allow you to arrange IllumiTiles, harnesses, and power supplies into one or more 
				two-dimensional series of your choosing. You will have to apply adequate harnesses and power supplies to ensure
				proper operation of your arrangement. Use the "Test" buttons to test individual circuits for completion. A passing test
				means the circuit in question has an adequate number of harnesses and a power supply.
			</p>
			
			<div class="buttons">
				<button onclick="navigateWizard('temperature')">Prev</button>
				<button rel="auto-area" onclick="navigateWizard('auto-config')">Next</button>
				<button rel="auto-size" onclick="navigateWizard('auto-config')">Next</button>
				<button rel="manual" onclick="saveWizard()">Done</button>
				<button rel="skip" onclick="exitWizard()">Skip</button>
			</div>
		</div>

		<div class="dialog wizard" rel="auto-config">
			<div class="title">Auto-Configuration Settings</div>
			
			<div class="wizard-field" rel="auto-area">
				Area 
				<input type="text" class="field" name="work-table-width" value="4.0" />
				" X 
				<input type="text" class="field" name="work-table-height" value="4.0" />
				"
			</div>

			<div class="wizard-field" rel="auto-size">
				Tiles
				<input type="text" class="field" name="tile-count-width" value="1" /> 
				X 
				<input type="text" class="field" name="tile-count-height" value="1" />
			</div>
			
			<p rel="auto-area">
				Enter the width and height in inches of an area you would like to cover in IllumiTiles. 
				The Configurator will do its best to arrange IllumiTiles in such a way that the area specified is properly covered.
				Individual circuits will be automatically created for you using adequate harnesses and power supplies.
				Please note that the area specified must be no more than 80" W x 126" H for a portrait layout, 
				or no more than 126" W x 80" H for a landscape layout.
			</p>
			
			<p rel="auto-size">
				Enter the number of IllumiTiles you will like to use in the width and height of your design. 
				The Configurator will arrange IllumiTiles in such a way that the number of IllumiTiles specified 
				for the width and height are used.
				Individual circuits will be automatically created for you using adequate harnesses and power supplies.
				Please note that the highest number of IllumiTiles specified in a configuration must not exceed 20 W x 32 H 
				for a portrait layout, and must not exceed 32 W x 20 H for a landscape layout.
			</p>
			
			<div class="buttons">
				<button onclick="navigateWizard('work-mode')">Prev</button>
				<button onclick="saveWizard()">Done</button>
				<button rel="skip" onclick="exitWizard()">Skip</button>
			</div>
		</div>

		<footer>
			<button id="footerHandle" class="footer-handle icon ion-arrow-down-a"></button>

			<div class="tools">
				<div class="section">
					<div class="overlay"></div>
					<div  class="tool-button drag-to-canvas" rel="tile"><img src="assets/img/tile/illumitile_32x32.png" /><div class="helper"></div></div>
					<div  class="tool-button drag-to-canvas" rel="harness"><img src="assets/img/tile/harness_90x11.png" /><div class="helper"></div></div>
					<div  class="tool-button drag-to-canvas" rel="power"><img src="assets/img/tile/power_150x41.png" style="width:100px;" /><div class="helper"></div></div>
					<button onclick="removeComponents()" class="tool-button icon ion-close" style="color: red"></button>
				</div>
				<div class="section">
					<button class="tool-button icon ion-gear-b" style="color: white;font-size:1.75em;"></button>
				</div>
			</div>

			<section class="specs">
				<h1>System Specifications</h1>

				<div class="setting">Voltage <span class="value" rel="voltage">0.0</span> DC</div>
				<div class="setting">Current <span class="value" rel="current">0.0</span> Amps</div>
				<div class="setting">Power <span class="value" rel="power">0.0</span> Watts</div>
				<div class="setting">
					Derate
					<select>
						<option>10%</option>
						<option>15%</option>
						<option>20%</option>
					</select>
				</div>
			</section>

			<section class="components">
				<h1>System Components</h1>

				<div class="setting">
					<a href="#" onclick="navigateWizard('temperature')" class="setting">Change configuration...</a>
				</div>				

				<div class="setting">Color Temperature <span class="value" rel="temperature"></span></div>
				<div class="setting">Minimum Power Supply Rating <span class="value">25</span> Watts</div>
				<div class="setting">IllumiTile Light Engine Quantity <span class="value" rel="tileCount">0</span></div>
				<div class="setting">IllumiSnap Harness D Quantity <span class="value" rel="harnessCount">0</span></div>
				<div class="setting">IllumiSnap Power Harness Quantity <span class="value" rel="powerCount">0</span></div>
				<div class="setting">Number of Power Supplies</div>
			</section>
		</footer>
	</body>
</html>